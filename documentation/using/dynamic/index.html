<!DOCTYPE html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC:400,700|Source+Sans+Pro:300,700&display=swap" >

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
     
    <title> Getting direct API | Microcks.io</title>

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.90.1" />

      
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      

    
    
      <link rel="stylesheet" href="/output/css/app.min.1458e95ab948da3cd07bca1fa2614cf04ce5addde65134332fa8fe5fb6fd3e1c.css" integrity="sha256-FFjpWrlI2jzQe8ofomFM8Ezlrd3mUTQzL6j&#43;X7b9Phw=" crossorigin="anonymous"> 
          
    


    

    
  <script type="text/javascript" src="/output/js/app.1caa725adf6b3c0d83460e78ce17051642a329cbe9222b7eccefa8def7cd7559.js" integrity="sha256-HKpyWt9rPA2DRg54zhcFFkKjKcvpIit&#43;zO&#43;o3vfNdVk=" crossorigin="anonymous" defer></script>
      
 



<script async defer src="https://buttons.github.io/buttons.js"></script>

      
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0594cb">
<meta name="theme-color" content="#ffffff">
<meta property="og:title" content="Getting direct API" />
<meta property="og:description" content="Creating direct API mocks Eventhough Microcks promotes a contract first approach for defining mocks, in real-life it may be difficult starting that way without a great maturity on API and Service contracts. You often need to play a bit with a fake API to really figure out their needs and how you should then design API contract. In order to help with this situation, Microcks offers the ability to dynamically generate an API that you may use as a sandbox." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://microcks.io/documentation/using/dynamic/" /><meta property="article:section" content="documentation" />
<meta property="article:published_time" content="2019-09-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-09-02T00:00:00+00:00" />

<meta itemprop="name" content="Getting direct API">
<meta itemprop="description" content="Creating direct API mocks Eventhough Microcks promotes a contract first approach for defining mocks, in real-life it may be difficult starting that way without a great maturity on API and Service contracts. You often need to play a bit with a fake API to really figure out their needs and how you should then design API contract. In order to help with this situation, Microcks offers the ability to dynamically generate an API that you may use as a sandbox."><meta itemprop="datePublished" content="2019-09-01T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-09-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="1125">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting direct API"/>
<meta name="twitter:description" content="Creating direct API mocks Eventhough Microcks promotes a contract first approach for defining mocks, in real-life it may be difficult starting that way without a great maturity on API and Service contracts. You often need to play a bit with a fake API to really figure out their needs and how you should then design API contract. In order to help with this situation, Microcks offers the ability to dynamically generate an API that you may use as a sandbox."/>


      
        
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9TK2NJ5V4J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  
  gtag('config', 'G-9TK2NJ5V4J', {'dimension1': 'microcks.io', 'dimension2': ''});



var trackOutboundLink = function(id, url) {
  gtag('event', 'click', {
    'event_category': 'outbound',
    'event_label': id,
    'transport_type': 'beacon',
    'event_callback': function(){document.location = url;}
  });
}

</script>

      
      
  </head>
  <body class="ma0 sans-serif bg-primary-color-light production">
    
<nav class="bg-primary-color-dark pv4 w-100" role="navigation">

  <div class="center flex-ns flex-wrap items-center justify-start mw9">

    <img src="/images/microcks-round.png" class="logo-img dn-ns dn-xs dib-l">

    <h1 class="dim f2 lh-solid mr0 ml6-l ml2-ns pl3-ns ml3-xs mv0 fem">
      <a href="https://microcks.io" class="link white">
        MICROCKS
      </a>
    </h1>
    
    <ul class="list ma0 pa0 dn dib-l ml-auto-l">
      
        <li class="f5 dib mr4 fem" role="menuitem">
            
          <a href="/news/" class="dim link light-silver">
            NEWS
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4 fem" role="menuitem">
            
          <a href="/documentation/" class="dim link light-silver">
            DOCS
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4 fem" role="menuitem">
            
          <a href="/blog/" class="dim link light-silver">
            BLOG
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4 fem" role="menuitem">
            
          <a href="/resources/" class="dim link light-silver">
            RESOURCES
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4 fem" role="menuitem">
            
          <a href="/community/" class="dim link light-silver">
            COMMUNITY
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4 fem" role="menuitem">
            
          <a href="https://github.com/microcks/microcks" class="dim link light-silver">
            GITHUB
              
            
            
              <span class="pl1">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32" class="fill-current v-base" aria-label="External Link">
<path d="M25.152 16.576v5.696q0 2.144-1.504 3.648t-3.648 1.504h-14.848q-2.144 0-3.648-1.504t-1.504-3.648v-14.848q0-2.112 1.504-3.616t3.648-1.536h12.576q0.224 0 0.384 0.16t0.16 0.416v1.152q0 0.256-0.16 0.416t-0.384 0.16h-12.576q-1.184 0-2.016 0.832t-0.864 2.016v14.848q0 1.184 0.864 2.016t2.016 0.864h14.848q1.184 0 2.016-0.864t0.832-2.016v-5.696q0-0.256 0.16-0.416t0.416-0.16h1.152q0.256 0 0.416 0.16t0.16 0.416zM32 1.152v9.12q0 0.48-0.352 0.8t-0.8 0.352-0.8-0.352l-3.136-3.136-11.648 11.648q-0.16 0.192-0.416 0.192t-0.384-0.192l-2.048-2.048q-0.192-0.16-0.192-0.384t0.192-0.416l11.648-11.648-3.136-3.136q-0.352-0.352-0.352-0.8t0.352-0.8 0.8-0.352h9.12q0.48 0 0.8 0.352t0.352 0.8z"></path>
</svg>

              </span>
            
          </a>
        </li>
      
    </ul>

    <div class="db dib-ns pl3 pl4-ns pl2-xs"><form id="site-search-form" action="" role="search">
  <fieldset class="bn ma0 pa0">
    <label class="clip" for="search-input">Search</label>
    <input type="search" id="search-input" class="needs-js bg-left bn f5 input-reset lh-solid mt3 mt0-ns pl4 pv2 w5 white fem" placeholder="Search the Docs" name="search-input" value="" style="background: transparent url('/images/icon-search.png') no-repeat 0 8px /16px 16px;">
  </fieldset>
</form>

</div>

    <span class="absolute mt0 pr3 right-0 top-0">
<a href="https://github.com/microcks" class="github-corner hidden-md-down" aria-label="View source on Github" rel="nofollow" target="_blank">
  <svg width="74" height="74" viewBox="0 0 250 250" style="fill:#fff;z-index:2000;color:#1a3932;mix-blend-mode:screen;position:absolute;top:0;border:0;right:0" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7
      120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9
      125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6
      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0
      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1
      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4
      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9
      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5
      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9
      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body">
    </path>
  </svg>
</a>
</span>

  </div>
</nav>

    
    <main role="main" class="content-with-sidebar min-vh-100 pb7 pb0-ns">
      
  <article class="w-100 ph3 pb5">
    <div class="flex-l">
      <div class="order-2 w-100 w-20-l ph5-m ph0-l mb4 sticky">
<aside class="fixed-lTK mw5-l right-0 f6 bl-l b--moon-gray pv4 pv0-ns ph4-l nested-list-reset nested-links nested-copy-line-height">
	
		<p class="b">What's on this Page</p>
  	<nav id="TableOfContents">
  <ul>
    <li><a href="#creating-direct-api-mocks">Creating direct API mocks</a>
      <ul>
        <li><a href="#common-properties">Common Properties</a></li>
      </ul>
    </li>
    <li><a href="#rest-api">REST API</a>
      <ul>
        <li><a href="#checking-created-resources">Checking created resources</a></li>
        <li><a href="#querying-dynamic-mock-resources">Querying dynamic mock resources</a></li>
        <li><a href="#event-driven-api">Event Driven API</a></li>
      </ul>
    </li>
  </ul>
</nav>
	

	<div date-pref>
		
			<a href="https://microcks.io/documentation/using/alternatives/" class="dib f6 pl1 hover-bg-light-gray br-100" title="Comparison to alternatives ">
				<svg class="fill-current" height="30px" viewBox="0 0 24 24" width="30px" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>

			</a>
		

		
			<a href="https://microcks.io/documentation/using/openapi/" class="dib f6 pr1 hover-bg-light-gray br-100" title="OpenAPI Mocking and Testing">
			<svg class="fill-current" height="30px" viewBox="0 0 24 24" width="30px" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>

			</a>
		
	</div>

</aside>
</div>
      <div class="order-1 w-60-l mw8 ph0 ph4-ns">
        <header class="flex-none w-100 bg-primary-color pv3 ph3">
  
  <h1 class="lh-title mb3 mv0 pt3 accent-color-light fem">Getting direct API</h1>
</header>

<aside class="bw1 pt3 mt2 mid-gray b--mid-gray fn w-100">
  
  
</aside>



<div class="prose" id="prose">

<h2 id="creating-direct-api-mocks">Creating direct API mocks</h2>
<p>Eventhough Microcks promotes a contract first approach for defining mocks, in real-life it may be difficult starting that way without a great maturity on API and Service contracts. You often need to play a bit with a fake API to really figure out their needs and how you should then design API contract. In order to help with this situation, Microcks offers the ability to <strong>dynamically generate an API</strong> that you may use as a sandbox.</p>
<p>In a few clicks, Microcks is able to easily generate for you:</p>
<ul>
<li><strong>REST API</strong> with CRUD operations (CRUD for <em>Create-Retrieve-Update-Delete</em>) and associated mocks that you&rsquo;ll be able to use for recording, retrieving and deleting any type of JSON document,</li>
<li><strong>Event-Driven API</strong> with a single <em>Publish</em> operation with associated reference payload that will be used to simulate event emition whether on Kafka or WebSocket protocols?</li>
</ul>
<p><img src="/images/direct-wizard.png" alt="direct-wizard"></p>
<p>In order to access this &ldquo;Direct API&rdquo; wizard, just go to the <strong>API | Services</strong> repository and hit the <code>Add Direct API...</code> button:</p>
<p><img src="/images/direct-link.png" alt="direct-link"></p>
<h3 id="common-properties">Common Properties</h3>
<p>Each kind of API as the same common properties. After having chosen a type, the wizrd asking you to give the following API | Service properties:</p>
<ul>
<li><code>Service Name and Version</code> will be the unique identifiers of the new Direct API you want to create,</li>
<li><code>Resource</code> will the kind of resource that will be manage by this Direct API.</li>
</ul>
<p><img src="/images/direct-rest-form.png" alt="direct-rest-form"></p>
<p>In the next step of this wiazrd, you&rsquo;ll have the ability to assign a <strong>reference JSON payload</strong> for your Direct API. When provided, this payload is used to infer a schema for the data exposed by this API. Schema information is then integrated into the generated API specifications.</p>
<blockquote>
<p>Reference JSON payload is optional for Direct REST API but mandatory for Direct Event driven API.</p>
</blockquote>
<p><img src="/images/direct-rest-payload.png" alt="direct-rest-payload"></p>
<p>Now, just hit the <code>Next</code> button, confirm on next screen and you&rsquo;ll have a ready-to-use API that proposes different operations as shown in capture below.</p>
<h2 id="rest-api">REST API</h2>
<p>This Direct REST API is immediately exposing mocks endpoints for the different operations. It Swagger and OpenAPI contracts are also directly available for download.</p>
<p><img src="/images/dynamic-operations.png" alt="dynamic-operations"></p>
<p>Given the previously created Direct API, it is now possible to use the <code>/dynarest/Foo+API/0.1/foo</code> endpoint (append after your Microcks base URL) to interact with it. This Direct API is in fact agnostic to a payload you send to it as long as it is formatted as JSON. For example, you can easily record a new <code>foo</code> resource having a <code>name</code> and a <code>bar</code> attributes like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl -X POST http://localhost:8080/dynarest/Foo%20API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;:&#34;andrew&#34;, &#34;bar&#34;: 223}&#39;</span>
</code></pre></div><p>And you should receive the following response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;andrew&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">223</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb52a710ffa9f0b7c6de8&#34;</span> <span class="p">}</span>
</code></pre></div><p>What has simply done Microcks is recorded your JSON payload and assigned it an <code>id</code> attribute.</p>
<h3 id="checking-created-resources">Checking created resources</h3>
<p>Creating resource is useful but how to check what are the already existing resources ? Let create another bunch of <code>foo</code> resources like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl -X POST http://localhost:8080/dynarest/Foo+API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;:&#34;andrew&#34;, &#34;bar&#34;: 224}&#39;</span>
curl -X POST http://localhost:8080/dynarest/Foo+API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;:&#34;marina&#34;, &#34;bar&#34;: 225}&#39;</span>
curl -X POST http://localhost:8080/dynarest/Foo+API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;:&#34;marina&#34;, &#34;bar&#34;: 226}&#39;</span>
</code></pre></div><p>Now, just hitting the <code>Resources</code> button just next to <code>Operations</code> section, you should be able to check all the resources Microcks has recorded as being viable representations of the <code>foo</code> resource. Each of them has received a unique identifier:</p>
<p><img src="/images/dynamic-resources.png" alt="dynamic-resources"></p>
<p>Using Direct API in Microcks is thus a simple and super-fast mean of recording sample resources to illustrate what should be the future contract design!</p>
<h3 id="querying-dynamic-mock-resources">Querying dynamic mock resources</h3>
<p>Beyond the simple checking of created resources, those resources are also directly available through the endpoints corresponding to retrieval operations. As every resource recorded is identified using an <code>id</code> attribute, it s really easy to invoke the GET endpoint using this id like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl -X GET http://localhost:8080/dynarest/Foo+API/0.1/foo/5a1eb52a710ffa9f0b7c6de8
</code></pre></div><p>This give you the JSON payload you have previously recorded!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;andrew&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">223</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb52a710ffa9f0b7c6de8&#34;</span> <span class="p">}</span><span class="err">`</span>
</code></pre></div><p>More sophisticated retrieval options are also available when using the listing endpoint of dynamic Service. Microcks follows the conventions of querying by example: you can specify a JSON document as data and it will be used as a prototype for retrieving recorded resources having the same attributes and same attribute values. For example, to get all the <code>foo</code> resources having a name of <em>marina</em> just issue this query:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl -X GET http://localhost:8080/dynarest/Foo+API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;: &#34;marina&#34;}}&#39;</span>
</code></pre></div><p>That will give you the following results:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">[{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;marina&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">225</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb608710ffa9f0b7c6deb&#34;</span> <span class="p">},</span> <span class="p">{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;marina&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">226</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb613710ffa9f0b7c6dec&#34;</span> <span class="p">}]</span>
</code></pre></div><p>Microcks is also able to understand the operators you&rsquo;ll find into <a href="https://docs.mongodb.com/manual/tutorial/query-documents/">MongoDB Query DSL</a> syntax. Thus you&rsquo;re able for example to filter results using a range for an integer value like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl -X GET http://localhost:8080/dynarest/Foo+API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;bar&#34;: {$gt: 223, $lt: 226} }}&#39;</span>
</code></pre></div><p>With results:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">[{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;andrew&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">224</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb5fd710ffa9f0b7c6dea&#34;</span> <span class="p">},</span> <span class="p">{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;marina&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">225</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb608710ffa9f0b7c6deb&#34;</span> <span class="p">}]</span>
</code></pre></div><p>You can also mix-and-match attribute values and DSL operators so that you may build more complex filters likte this one restricted the previous set of <code>foo</code> to those having only the name of <em>marina</em>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl -X GET http://localhost:8080/dynarest/Foo+API/0.1/foo -H <span class="s1">&#39;Content-type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;: &#34;marina&#34;, &#34;bar&#34;: {$gt: 223, $lt: 226} }}&#39;</span>
</code></pre></div><p>With results:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">[{</span> <span class="nt">&#34;name&#34;</span> <span class="p">:</span> <span class="s2">&#34;marina&#34;</span><span class="p">,</span> <span class="nt">&#34;bar&#34;</span> <span class="p">:</span> <span class="mi">225</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;5a1eb608710ffa9f0b7c6deb&#34;</span> <span class="p">}]</span>
</code></pre></div><h3 id="event-driven-api">Event Driven API</h3>
<p>As of the <code>1.6.0</code> release, we rebooted the Direct API concept to be more generic and being able to also manage Event Driven API that are described using AsyncAPI specifications. Imagine a <code>MyQuote API</code> that notifies quotes updates on an asynchronous channel. You can define this API that way:</p>
<p><img src="/images/direct-event-form.png" alt="direct-event-form"></p>
<p>Then adding a reference JSON payload - such a payload can also include some <a href="./advanced/templates">templating expressions</a> to get some more dynamic data. Here we define producing random staock sybols and ranged price values:</p>
<p><img src="/images/direct-event-payload.png" alt="direct-event-payload"></p>
<p>Clicking <code>Next</code> some more time, you now have a Direct Async API that is immediately exposed on WebSocket endpoint and on the Kafka broker Microcks is attached to. It AsyncAPI specification is also directly available for download.</p>
<p><img src="/images/direct-event-api.png" alt="direct-event-api"></p>
<p>Looking at the operation details, you can retrieve the information of the endpoints used by different protocols and issue commands to receive the different messages published by the mock engine:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ kcat -b my-cluster-kafka-bootstrap.apps.try.microcks.io:443 -t MyQuoteAPI-1.0-quotes -o end
% Auto-selecting Consumer mode <span class="o">(</span>use -P or -C to override<span class="o">)</span>
% Reached end of topic MyQuoteAPI-1.0-quotes <span class="o">[</span>0<span class="o">]</span> at offset <span class="m">87</span>
<span class="o">{</span>
  <span class="s2">&#34;symbol&#34;</span>: <span class="s2">&#34;GOOG&#34;</span>,
  <span class="s2">&#34;price&#34;</span>: <span class="s2">&#34;124&#34;</span>
<span class="o">}</span>
% Reached end of topic MyQuoteAPI-1.0-quotes <span class="o">[</span>0<span class="o">]</span> at offset <span class="m">88</span>
<span class="o">{</span>
  <span class="s2">&#34;symbol&#34;</span>: <span class="s2">&#34;GOOG&#34;</span>,
  <span class="s2">&#34;price&#34;</span>: <span class="s2">&#34;121&#34;</span>
<span class="o">}</span>
% Reached end of topic MyQuoteAPI-1.0-quotes <span class="o">[</span>0<span class="o">]</span> at offset <span class="m">89</span>
<span class="o">{</span>
  <span class="s2">&#34;symbol&#34;</span>: <span class="s2">&#34;IBM&#34;</span>,
  <span class="s2">&#34;price&#34;</span>: <span class="s2">&#34;127&#34;</span>
<span class="o">}</span>
% Reached end of topic MyQuoteAPI-1.0-quotes <span class="o">[</span>0<span class="o">]</span> at offset <span class="m">90</span>
<span class="o">{</span>
  <span class="s2">&#34;symbol&#34;</span>: <span class="s2">&#34;GOOG&#34;</span>,
  <span class="s2">&#34;price&#34;</span>: <span class="s2">&#34;134&#34;</span>
<span class="o">}</span>
<span class="o">[</span>...<span class="o">]</span>
</code></pre></div>
</div>

        

      </div>
      <div class="order-0 w-20 dn db-l mt4 ph3">
        
<nav role="navigation">
  <ul class="list pa0 nl2">
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2  accent-color-light" data-target=".using">USING</a>
        <ul class="using desktopmenu animated fadeIn list pl0 bg-light-gray db">
          <li class="f6 fw4">
            <a href="/documentation/getting-started/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              GETTING STARTED
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/getting-started-tests/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              GETTING STARTED WITH TESTS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/importers/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              IMPORTING SERVICES &amp; APIS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/alternatives/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              COMPARISON TO ALTERNATIVES
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/openapi/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              OPENAPI USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/swagger/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              SWAGGER USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/asyncapi/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              ASYNCAPI USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/postman/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              POSTMAN USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/grpc/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              GRPC USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/graphql/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              GRAPHQL USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/soapui/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              SOAPUI USAGE FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/mocks/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              USING EXPOSED MOCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/dynamic/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 accent-color-light ">
              GETTING DIRECT API
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/tests/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              TESTING WITH MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/advanced/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              ADVANCED TOPICS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/advanced/organizing/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              ORGANIZING REPOSITORY
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/advanced/templates/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              TEMPLATING MOCK RESPONSES
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/advanced/dispatching/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              DISPATCHER &amp; DISPATCHING RULES
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/advanced/metadata/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              MICROCKS APIMETADATA
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/using/advanced/monitoring/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              MONITORING &amp; OBSERVABILITY
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".installing">INSTALLING</a>
        <ul class="installing desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/documentation/installing/kubernetes/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              INSTALLING ON KUBE USING HELM
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/installing/operator/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              INSTALLING ON KUBE USING OPERATOR
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/installing/docker-compose/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              INSTALLING WITH DOCKER-COMPOSE
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/installing/docker-desktop-extension/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              INSTALLING AS DOCKER DESKTOP EXTENSION
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/installing/podman-compose/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              INSTALLING WITH PODMAN-COMPOSE
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/installing/deployment-options/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              ARCHITECTURE AND DEPLOYMENT OPTIONS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/installing/running-uber/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              RUNNING WITH TESTCONTAINERS
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".automating">AUTOMATING</a>
        <ul class="automating desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/documentation/automating/service-account/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              MICROCKS SERVICE ACCOUNTS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/automating/jenkins/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              INTEGRATING MICROCKS FROM JENKINS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/automating/cli/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              CLI FOR MICROCKS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/automating/tekton/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              USING MICROCKS FROM TEKTON
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/automating/github-actions/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              USING MICROCKS FROM GITHUB ACTIONS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/automating/api/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              MICROCKS API
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".administrating">ADMINISTRATING</a>
        <ul class="administrating desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/documentation/administrating/users/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              MANAGING USERS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/administrating/secrets/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              EXTERNAL SECRETS
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/administrating/snapshots/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              REPOSITORY SNAPSHOTS
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".guides">GUIDES</a>
        <ul class="guides desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/documentation/guides/openapi-101/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              OPENAPI MOCKING 101
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/guides/avro-messaging/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              KAFKA, AVRO AND SCHEMA REGISTRY
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/guides/mqtt-support/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              MQTT MOCKING AND TESTING
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/guides/rabbitmq-support/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              RABBITMQ MOCKING AND TESTING
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/guides/nats-support/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              NATS MOCKING AND TESTING
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/guides/googlepubsub-support/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              GOOGLE PUB/SUB MOCKING AND TESTING
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/documentation/guides/aws-sqs-sns-support/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              AMAZON SQS/SNS MOCKING AND TESTING
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="/resources/" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".resources">RESOURCES</a>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="/community/" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".community">COMMUNITY</a>
      </li>
  </ul>
</nav>

      </div>
    </div>

  </article>
  

  <div class="w-100 bg-light-gray">
    <div class="mw7 pa4 center nested-lh-copy lh-copy">
      <h6 class="f4 dark-gray mb2">
  <a href="https://microcks.io/documentation/using/dynamic/" class="hide-child link primary-color">
  <span class="nl3 child"><svg class="grow" fill="" height="14px" viewBox="0 0 24 24" width="14px" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>
</span>
    “Getting direct API”
  </a> was last updated: September 2, 2019
</h6>

      <a href="https://github.com/microcks/microcks.io/edit/master/content/documentation/using/dynamic.md" class="
f6 ph3 pv1 br2 dib  tc ttu mv3 bg-primary-color white hover-bg-green link
">Improve this page</a>

      


    </div>
  </div>

    </main>

    <footer class="bg-primary-color-dark ph4-ns pt4 relative w-100" role="contentinfo">
    <div class="center flex-ns flex-wrap justify-between mw9 w-90">
      <div class="pb3 pt4 w-100 w-50-ns">

         <div class="b f3  light-gray mb3 nested-links tc">
           By the <a href="https://github.com/microcks/microcks/graphs/contributors" class="link">Microcks Authors</a><br />
          </div>

          <ul class="center f6 list ma0 mv3 pa0 tc"></ul>

          <ul class="center f6 list ma0 mv4 pa0 tc">
            <li class="dib mr3"><a href="https://twitter.com/microcksIO" class="dim link light-gray pv2">@MicrocksIO</a></li>
            <li class="dib mr3"><a href="https://twitter.com/lbroudoux" class="dim link light-gray pv2">@lbroudoux</a></li>
            <li class="dib mr3"><a href="https://twitter.com/yadayac" class="dim link light-gray pv2">@YadaYac</a></li>
          </ul>

          

      </div>

       
      
      <div class="pb3 pt4 w-100 w-50-ns">
        <div class="b f3 light-gray mb3 nested-links tc">
          Join our <a href="https://microcksio.zulipchat.com" target="new" class="link">Zulip</a> or <a href="https://github.com/microcks/microcks/discussions" target="new" class="link">GitHub</a> community chats<br/>
          <a href="https://microcksio.zulipchat.com" target="new"><img src="/images/zulip.png" class="center h3 br3 mt2"/></a>
          <a href="https://github.com/microcks/microcks/discussions" target="new"><img src="/images/GitHub-Mark-Light-120px-plus.png" class="center h3 br2 mt2 pl4"/></a>
        </div>

      </div>
    </div>

    <div class="f7 gray mb5 mb0-ns ph3 w-100">
      <p class="dib mr4">
        The Linux Foundation® (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a class="gray" href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a>. <br/>
        Icons by Made x Made from the Noun Project.<br/>
      </p>
    </div>

    
    
    

    <div class="bg-primary-color-dark bottom-0 left-0 right-0 dn-l fixed pb3 ph3 w-100"><div  class="globalmenu mobilemenu pb3 dn">
    

<ul class="list hidden dib ph0 ma0 scrolling-touch tc">
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/news/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          News
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Docs
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/blog/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Blog
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/resources/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Resources
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/community/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Community
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://github.com/microcks/microcks" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          GitHub
        </a>
    </li>
  
</ul>

</div>
<div  class="docsmenu mobilemenu pb3 dn">
    

<ul class="list dib ph0 ma0 scrolling-touch tc">
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation//using/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Using
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation//installing/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Installing
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation//automating/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Automating
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation//administrating/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Administrating
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100 mb2 bb b--mid-gray">
        <a href="/documentation//guides/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Guides
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation//resources/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Resources
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="/documentation//community/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Community
        </a>
    </li>
  
</ul>

</div>

<div class="flex dn-l justify-between pt3-xs">
  <button class="js-toggle flex-auto dib dn-l f6 tc db mt4-ns ph3 pv2 link mr2 white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".globalmenu">Menu</button>

  <button class="js-toggle flex-auto dib dn-l f6 tc db mt4-ns ph3 pv2 link white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".docsmenu">Docs Menu</button>
</div>
</div>

</footer>

    

  </body>
</html>
